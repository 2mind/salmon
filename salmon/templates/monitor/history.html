{% extends "base.html" %}
{% block head_title %}: {{ minion.name }}{% endblock %}

{% block content %}
    <div class="row">
    {% for graph in graphs %}
    <div class="span5{% cycle '' ' offset2' %}">
        <h4>{{ graph.name }}</h4>
        <div id="{{ graph.name|slugify }}" style="width:380px;height:300px"></div>
    </div>
    {% endfor %}
    </div>
{% endblock %}

{% block extrajs %}
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.flot.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.flot.time.min.js"></script>
    <script type="text/javascript">
        (function ($) {
            var graphOptions = {
                xaxis: { mode: "time" },
                yaxis: { min:0 },
                series: {
                    lines: {
                        fill: true,
                        lineWidth:3,
                        fillColor: 'rgba(151,187,205,0.5)'
                    },
                    shadowSize: 0
                },
                colors: ['rgba(151,187,205,1)'],
                grid: {
                    borderWidth: 0,
                    color: '#ddd'
                }
            };
            {% for graph in graphs %}
                $("#{{ graph.name|slugify }}").plot([{{ graph.data }}], graphOptions);
            {% endfor %}
        })(jQuery);
    </script>
{% endblock %}
